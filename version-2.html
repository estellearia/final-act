<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Always Choose Her</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    html, body {
      min-height: 100vh;
      min-width: 100vw;
      margin: 0; padding: 0; overflow-x: hidden;
      font-family: 'Press Start 2P', monospace;
      font-size: 13px; text-align: center;
      /* Dreamy, cosmic universe background */
      background:
        radial-gradient(ellipse at 50% 80%, #a3d8ff 0%, #353a5c 55%, #141332 80%, #06061a 100%),
        linear-gradient(180deg, #23204488 0%, #292a5a40 100%);
      color: #fff8e7;
    }
    body {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      min-height: 100vh; min-width: 100vw; text-align: center;
    }
    .star-bg, .star-bg-glow {
      pointer-events: none;
      position: fixed;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      z-index: 0;
      opacity: 1;
      overflow: hidden;
    }
    .star-bg-glow {
      filter: blur(2.5px) brightness(1.4);
      opacity: 0.7;
      z-index: 1;
    }
    .shooting-star {
      position: absolute;
      width: 2px; height: 80px;
      background: linear-gradient(180deg, #fff7cb 15%, #aeeaff 60%, transparent 100%);
      opacity: 0.65;
      border-radius: 100px;
      pointer-events: none;
      animation: shooting-star 1.7s cubic-bezier(.8,.2,.2,1) forwards;
    }
    @keyframes shooting-star {
      0%   { transform: translateY(-90px) scaleY(0.92) scaleX(0.7); opacity: 0; }
      10%  { opacity: 1; }
      80%  { opacity: 1; }
      100% { transform: translateY(110vh) scaleY(1.11) scaleX(0.85); opacity: 0; }
    }
    /* Twinkling stars effect */
    .twinkle-star {
      position: absolute;
      border-radius: 50%;
      background: #fffbe3;
      width: 2px; height: 2px;
      pointer-events: none;
      animation: twinkle 2.1s infinite alternate;
    }
    @keyframes twinkle {
      0% { opacity: 0.58; box-shadow: 0 0 2px 1px #ffd; }
      50% { opacity: 1; box-shadow: 0 0 6px 2px #fffbe3, 0 0 12px #a3e9ff55; }
      100% { opacity: 0.34; box-shadow: 0 0 2px 1px #ffd; }
    }
    /* Nebula dreamy fog */
    .nebula {
      position: fixed;
      pointer-events: none;
      z-index: 0;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      background: radial-gradient(ellipse at 30% 70%, #ffe3ed33 0%, #c1e1ff17 40%, transparent 75%),
                  radial-gradient(ellipse at 70% 30%, #e1e6ff29 0%, #a3e9ff11 40%, transparent 90%);
      opacity: 0.7;
      mix-blend-mode: lighten;
      animation: nebula-float 12s linear infinite alternate;
    }
    @keyframes nebula-float {
      0% { background-position: 0% 0%, 100% 100%; }
      100% { background-position: 10% 8%, 90% 92%; }
    }
    .hidden { display: none !important; }
    .memory-title {
      font-size: 16px;
      color: #ffe764;
      text-shadow: 0 0 10px #fffbe3, 0 0 8px #ffe764b5;
      font-family: 'Press Start 2P', monospace;
      font-weight: normal;
      letter-spacing: 0.6px;
      margin-bottom: 8px;
      margin-top: 24px;
      text-align: center;
      user-select: none;
      line-height: 1.25;
    }
    #memoryInstructionLines {
      width: 100%;
      max-width: 360px;
      margin: 0 auto 14px auto;
      display: block;
      text-align: center;
    }
    .memory-instruction-quote {
      color: #ffe764;
      font-size: 0.64em;
      background: rgba(38, 39, 80, 0.44);
      border-radius: 4px;
      padding: 9px 10px 8px 10px;
      border: 1px solid #ffe76455;
      display: inline-block;
      font-style: italic;
      image-rendering: pixelated;
      font-weight: normal;
      letter-spacing: 0.5px;
      line-height: 1.8;
      white-space: pre-line;
      text-align: center;
      margin: 0 auto 0 auto;
      user-select: none;
      box-shadow: 0 0 6px #ffe7641c;
    }
    .pixel-frame {
      background: rgba(20,16,40,0.93);
      border-radius: 16px;
      box-shadow: 0 0 0 3px #ffe76480, 0 0 0 6px #353a5c, 0 0 50px 8px #0a0a1a77, 0 0 0 1.5px #ffe764;
      max-width: 370px;
      width: 100%;
      margin: 0 auto;
      margin-top: 0;
      margin-bottom: 25px;
      image-rendering: pixelated;
      padding: 22px 12px 18px 12px;
      box-sizing: border-box;
      position: relative;
      display: block;
      text-align: center;
    }
    @keyframes float-in {
      0% { opacity: 0; transform: translateY(30px) scale(0.97);}
      100% { opacity: 1; transform: translateY(0) scale(1);}
    }
    @media (max-width: 500px) {
      .pixel-frame { max-width: 98vw; padding: 7vw 1vw; }
      .memory-title { font-size: 13px; }
      #memoryInstructionLines { max-width: 98vw; }
    }
    .avatar {
      width: 54px;
      height: 54px;
      display: block;
      margin: 0 auto 16px auto;
      border-radius: 8px;
      box-shadow: 0 0 12px #ffe76466, 0 0 0 2px #ffe764;
      border: 1px solid #ffe764;
      background: #191830;
      image-rendering: pixelated;
      margin-bottom: 10px;
    }
    @keyframes avatar-float {
      from { transform: translateY(0);}
      to   { transform: translateY(-12px);}
    }
   .pixel-text {
      color: #fffbe3;
      text-shadow: 1px 1px 0 #353a5c, 0 0 6px #ffe7646b;
      font-size: 0.72em;
      margin: 0.7em 0 0.4em 0;
      line-height: 1.7;
      letter-spacing: 0.7px;
      font-family: 'Press Start 2P', monospace;
      word-break: break-word;
      font-weight: normal;
      text-align: center;
    }
    .pixel-quote {
      color: #ffe764;
      font-size: 0.64em;
      margin-top: 1em;
      margin-bottom: 0.4em;
      text-shadow: 1px 1px 0 #353a5c, 0 0 7px #fffbe3b5;
      background: rgba(38, 39, 80, 0.44);
      border-radius: 4px;
      padding: 5px 8px;
      border: 1px solid #ffe76455;
      display: inline-block;
      font-style: italic;
      image-rendering: pixelated;
      font-weight: normal;
      letter-spacing: 0.5px;
      line-height: 1.9;
      white-space: pre-line;
      text-align: center;
    }
    .button, .pixel-button {
      font-family: 'Press Start 2P', monospace;
      background: #191830;
      color: #ffe764;
      border: 2px solid #ffe764;
      border-radius: 6px;
      box-shadow: 0 2px 0 0 #353a5c, 0 0 8px #ffe76470 inset;
      padding: 4px 10px 4px 10px;
      cursor: pointer;
      margin: 13px 0 0 0;
      font-size: 10px;
      font-weight: normal;
      letter-spacing: 0.7px;
      text-shadow: 1px 1px 0 #353a5c, 0 0 4px #fffbe3b5;
      transition: background 0.16s, color 0.13s, border-color 0.13s, transform 0.07s;
      image-rendering: pixelated;
      position: relative;
      z-index: 1;
      outline: 0;
      min-width: 70px;
      min-height: 26px;;
      text-align: center;
      display: inline-block;
    }
    .button:hover, .pixel-button:hover {
      background: #ffe764;
      color: #191830;
      border-color: #fffbe3;
      transform: scale(1.07) translateY(-1px);
      box-shadow: 0 0 14px #ffe764ad, 0 3px 0 0 #353a5c;
    }
    .center-btn, .mewby-center-btn, .aria-btn-center {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      text-align: center;
    }
    .center-btn > *, .mewby-center-btn > *, .aria-btn-center > * {
      margin-left: 0 !important;
      margin-right: 0 !important;
      display: block;
      text-align: center;
    }
    .star-canvas {
      position: absolute;
      left: 0; top: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }
    .memory-fragment {
      width: 22px;
      height: 22px;
      margin: 5px;
      display: block;
      background: linear-gradient(145deg, #fffbe3 30%, #fcd34d 80%);
      border-radius: 50%;
      animation: glow 1.9s infinite alternate;
      cursor: pointer;
      box-shadow: 0 0 8px #fffbe3, 0 0 18px #ffe764;
      transition: box-shadow 0.15s, background 0.15s, border-color 0.15s;
      outline: 1.5px solid #fffbe3;
      outline-offset: 2px;
      border: 2px solid #ffe764;
      background-clip: padding-box;
    }
    .memory-fragment.visited {
      opacity: 0.22;
      pointer-events: none;
      background: #282840;
      border: 2px solid #ffe764;
    }
    #memoryFragments {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
      max-width: 120px;
      margin: 0 auto;
      text-align: center;
      justify-content: center;
    }
    #memoryMessageBox {
      display: none;
      font-size: 11px;
      color: #ffe764;
      background: rgba(38,39,80,0.28);
      border-radius: 8px;
      border: 1px solid #ffe76444;
      box-shadow: 0 0 7px #ffe76422;
      margin: 20px auto 0 auto;
      padding: 15px 14px 13px 14px;
      max-width: 260px;
      text-align: center;
      line-height: 1.7;
      font-weight: normal;
      letter-spacing: 0.2px;
      opacity: 1;
      transition: opacity 0.3s;
      position: relative;
      z-index: 2;
    }
    .aria-box {
      background: rgba(38, 39, 80, 0.56);
      border-radius: 7px;
      padding: 10px 8px 12px 8px;
      margin: 14px 0 0 0;
      box-shadow: 0 0 7px #ffe76422;
      font-size: 10px;
      color: #ffeebc;
      text-shadow: 0 0 4px #ffe76444, 1px 1px 0 #353a5c;
      border: 1px solid #ffe76444;
      font-family: 'Press Start 2P', monospace;
      white-space: pre-line;
      line-height: 1.5;
      max-width: 330px;
      min-width: 0;
      min-height: 90px;
      word-break: break-word;
      margin-left: auto;
      margin-right: auto;
      width: 100%;
      box-sizing: border-box;
      transition: min-height 0.3s, max-width 0.3s;
      overflow-wrap: break-word;
      text-align: center;
    }
    #ariaSprite {
      width: 64px;
      height: 64px;
      display: block;
      margin: 0 auto 10px auto;
      border-radius: 5px;
      background: #191830;
      border: 1px solid #ffe764;
      box-shadow: 0 0 10px #ffe76455, 0 0 0 1px #ffe764;
      image-rendering: pixelated;
      text-align: center;
    }
    .final-choice-btns {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      width: 100%;
      margin-top: 10px;
    }
    @keyframes glow {
      from { box-shadow: 0 0 12px #ffe764, 0 0 26px #fffbe3; }
      to { box-shadow: 0 0 22px #ffe764, 0 0 38px #fcd34d; }
    }
    @media (max-width: 500px) {
      .aria-box { font-size: 10px; max-width: 98vw; }
      #ariaSprite { width: 58px; height: 58px; }
    }
  </style>
</head>
<body>
  <!-- Dreamy cosmic background layers -->
  <div class="nebula"></div>
  <div class="star-bg" id="starBg"></div>
  <div class="star-bg-glow" id="starBgGlow"></div>
  <div class="star-bg" id="twinkleBg"></div>

  <div class="memory-title" id="memoryTitle">Your memories with Aria</div>
  <div id="memoryInstructionLines">
    <span class="memory-instruction-quote" id="memoryInstructionQuote"></span>
  </div>

  <!-- MEWBIE INTRO SCENE -->
  <div class="pixel-frame" id="mainFrame">
    <img src="https://64.media.tumblr.com/647ca06c5a608d1ea1c416b21b839ea3/9a98a57c72a06121-2a/s250x400/7f925df3ce70975efc97a7f0ffac27ea3838ae3e.gif"
      alt="Mewby" class="avatar" />
    <p id="mewbyGreeting" class="pixel-text" style="min-height: 1.5em"></p>
    <div id="mewbyQuoteContainer" style="width:100%;">
      <p id="mewbyQuote" class="pixel-quote"></p>
    </div>
    <div class="center-btn mewby-center-btn">
      <button class="button" id="mewbyContinue" style="display:none;">Continue</button>
    </div>
  </div>

  <!-- MEMORIES SCENE -->
  <div class="pixel-frame hidden" id="memoriesFrame" style="position:relative;">
    <canvas id="starCanvas" class="star-canvas"></canvas>
    <div id="memoryFragments"></div>
    <div id="memoryMessageBox"></div>
    <div class="center-btn" id="memoriesNextBtnContainer" style="display:none;">
      <button class="button" id="memoriesNext" aria-label="Next to final scene">Next</button>
    </div>
  </div>

  <!-- FINAL CHOICE SCENE -->
  <div class="pixel-frame hidden" id="finalFrame">
    <p class="pixel-text" style="font-size:15px; margin-bottom:12px; color:#ffe764; text-shadow:0 0 15px #fffbe3;">
      You've remembered enough. What will you do?</p>
    <div class="final-choice-btns">
      <button class="button" id="chooseEasyBtn" onclick="chooseEasy()">Choose Easy</button>
      <button class="button" id="chooseHerBtn" onclick="chooseHer()">Choose Her</button>
    </div>
  </div>

  <!-- ARIA MESSAGE SCENE -->
  <div class="pixel-frame centered hidden" id="ariaFrame">
    <img src="https://i.imgur.com/9OC7GRw.gif" alt="Aria" id="ariaSprite" />
    <div class="aria-box" id="ariaMsg"></div>
    <div class="aria-btn-center">
      <button class="pixel-button" id="ariaHomeBtn" onclick="window.location.href='https://frdffsdx.carrd.co/#home';" style="display:none;">
        return home
      </button>
    </div>
  </div>

  <script>
    // --- COSMIC STAR BACKGROUND ---
    function makeStars(container, count, colors, blur = false) {
      container.innerHTML = '';
      for(let i=0;i<count;i++){
        const s = document.createElement('div');
        let size = Math.random() < 0.8 ? 2 : (Math.random() < 0.7 ? 3 : 4);
        s.style.position = "absolute";
        s.style.left = `${Math.random()*100}%`;
        s.style.top = `${Math.random()*100}%`;
        s.style.width = s.style.height = `${size}px`;
        s.style.background = colors[Math.floor(Math.random()*colors.length)];
        s.style.opacity = (Math.random()*0.7+0.24).toFixed(2);
        s.style.borderRadius = "50%";
        s.style.boxShadow = blur
          ? `0 0 13px #a3e9fff7, 0 0 50px #fffbe3a8`
          : "0 0 6px #fff8ef, 0 0 16px #ffe764";
        s.style.filter = blur ? "blur(1.2px)" : "";
        s.style.pointerEvents = "none";
        container.appendChild(s);
      }
    }
    function spawnShootingStar() {
      const sky = document.getElementById('starBg');
      const star = document.createElement('div');
      star.className = 'shooting-star';
      star.style.left = `${Math.random()*96+2}vw`;
      star.style.top = `-${Math.random()*30+2}px`;
      sky.appendChild(star);
      setTimeout(() => sky.removeChild(star), 1700);
    }
    // Twinkling stars
    function makeTwinkles(container, count) {
      container.innerHTML = '';
      for(let i=0;i<count;i++) {
        const t = document.createElement('div');
        t.className = 'twinkle-star';
        t.style.left = `${Math.random()*100}%`;
        t.style.top = `${Math.random()*100}%`;
        let size = Math.random() < 0.8 ? 2 : 3;
        t.style.width = t.style.height = `${size}px`;
        t.style.animationDelay = `${Math.random()*2.3}s`;
        container.appendChild(t);
      }
    }
    function refreshStars() {
      makeStars(document.getElementById('starBg'), 30, ["#fffbe3", "#ffe764", "#a3e9ff"], false);
      makeStars(document.getElementById('starBgGlow'), 14, ["#fffbe3", "#a3e9ff"], true);
      makeTwinkles(document.getElementById('twinkleBg'), 18);
    }
    window.addEventListener("DOMContentLoaded", refreshStars);
    window.addEventListener("resize", refreshStars);
    setInterval(() => { if(Math.random()<0.34) spawnShootingStar(); }, 900);

    // --- INSTRUCTIONS TYPING ---
    const memoryInstructionLines = [
      "Click each memory fragment one at a time.",
      "Wait for the memory to finish before choosing the next.",
      "Rushing will cause the stars to overlap and you might miss a story."
    ];
    let memoryInstructionLine = 0, memoryInstructionChar = 0;
    function typeMemoryInstructionLine() {
      const el = document.getElementById('memoryInstructionQuote');
      if (memoryInstructionLine < memoryInstructionLines.length) {
        if (memoryInstructionChar < memoryInstructionLines[memoryInstructionLine].length) {
          el.innerHTML += memoryInstructionLines[memoryInstructionLine][memoryInstructionChar++];
          setTimeout(typeMemoryInstructionLine, 60);
        } else {
          if (memoryInstructionLine < memoryInstructionLines.length - 1) {
            el.innerHTML += '<br>';
          }
          memoryInstructionLine++;
          memoryInstructionChar = 0;
          setTimeout(typeMemoryInstructionLine, 250);
        }
      }
    }

    // --- MEWBIE INTRO TYPING ---
    const mewbyGreetingText = "Hey! Mewby is here!";
    const mewbyQuoteLines = [
      "We’re about to take a little walk through memories and moments between you and Aria.",
      "Ready to start your journey?"
    ];
    let mewbyGreetingIndex = 0, mewbyQuoteLine = 0, mewbyQuoteChar = 0;
    function typeMewbyGreeting() {
      const el = document.getElementById('mewbyGreeting');
      if (mewbyGreetingIndex < mewbyGreetingText.length) {
        el.textContent += mewbyGreetingText[mewbyGreetingIndex++];
        setTimeout(typeMewbyGreeting, 60);
      } else {
        setTimeout(() => {
          document.getElementById('mewbyQuote').innerHTML = "";
          document.getElementById('mewbyQuoteContainer').style.display = 'block';
          typeMewbyQuoteLine();
        }, 440);
      }
    }
    function typeMewbyQuoteLine() {
      const quoteContainer = document.getElementById('mewbyQuoteContainer');
      quoteContainer.style.display = "block";
      const el = document.getElementById('mewbyQuote');
      if (mewbyQuoteLine < mewbyQuoteLines.length) {
        if (mewbyQuoteChar < mewbyQuoteLines[mewbyQuoteLine].length) {
          el.innerHTML += mewbyQuoteLines[mewbyQuoteLine][mewbyQuoteChar++];
          setTimeout(typeMewbyQuoteLine, 60);
        } else {
          if (mewbyQuoteLine < mewbyQuoteLines.length - 1) {
            el.innerHTML += '<br><br>';
          }
          mewbyQuoteLine++;
          mewbyQuoteChar = 0;
          setTimeout(typeMewbyQuoteLine, 400);
        }
      } else {
        setTimeout(() => {
          document.getElementById('mewbyContinue').style.display = 'inline-block';
        }, 400);
      }
    }
    window.addEventListener("DOMContentLoaded", () => {
      document.getElementById('mewbyQuoteContainer').style.display = "block";
      typeMewbyGreeting();
      document.getElementById('memoryTitle').style.display = "none";
      document.getElementById('memoryInstructionLines').style.display = "none";
    });

    // --- SCENE MANAGEMENT ---
    function showOnly(id) {
      ['mainFrame','memoriesFrame','finalFrame','ariaFrame'].forEach(x => {
        document.getElementById(x).classList.add('hidden');
      });
      document.getElementById(id).classList.remove('hidden');
      // Hide the memory lane title/instructions unless we're in memoriesFrame
      const showMemoryStuff = (id === 'memoriesFrame');
      document.getElementById('memoryTitle').style.display = showMemoryStuff ? 'block' : 'none';
      document.getElementById('memoryInstructionLines').style.display = showMemoryStuff ? 'block' : 'none';
      if (showMemoryStuff) drawStars();
      window.scrollTo(0,0);
    }

    document.getElementById('mewbyContinue').onclick = () => {
      document.getElementById('memoryInstructionQuote').innerHTML = '';
      memoryInstructionLine = 0; memoryInstructionChar = 0;
      showOnly('memoriesFrame');
      setTimeout(typeMemoryInstructionLine, 420);
      initMemories();
    };

    // --- STAR CANVAS FOR MEMORY LANE ---
    function drawStars() {
      const canvas = document.getElementById('starCanvas');
      if (!canvas) return;
      const parent = document.getElementById('memoriesFrame');
      canvas.width = parent.offsetWidth;
      canvas.height = 180;
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0,0,canvas.width,canvas.height);

      for (let i = 0; i < 42; i++) {
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height * 0.9 + 5;
        const size = Math.random() < 0.8 ? 2 : 4;
        ctx.save();
        ctx.globalAlpha = Math.random() * 0.4 + 0.5;
        ctx.fillStyle = Math.random() > 0.5 ? "#ffe764" : "#fffbe3";
        ctx.beginPath();
        ctx.arc(Math.floor(x), Math.floor(y), size, 0, 2 * Math.PI);
        ctx.fill();
        ctx.restore();
      }
    }
    window.addEventListener('resize', drawStars);

    // --- MEMORY LANE LOGIC ---
    const memoriesData = [
      { title: "First time we talked", desc: "That night when we stayed up late, just talking.", visited: false },
      { title: "Our favorite emoji", desc: " '><' and 'TT' represents US.", visited: false },
      { title: "Long distance calls", desc: "Our endless phone calls across the miles.", visited: false },
      { title: "Marathon nights", desc: "We just binged, sleep and feel together.", visited: false },
      { title: "Our first video game night", desc: "Laughing and playing like no distance existed.", visited: false },
      { title: "The first 'I love you'", desc: "That shy, unforgettable moment and our first day being official", visited: false }
    ];
    let memoryMessageTimeout = null;
    function initMemories() {
      drawStars();
      const memoryFragmentsEl = document.getElementById('memoryFragments');
      const messageBox = document.getElementById('memoryMessageBox');
      const memoriesNextBtn = document.getElementById('memoriesNext');
      const memoriesNextBtnContainer = document.getElementById('memoriesNextBtnContainer');
      memoryFragmentsEl.innerHTML = '';
      messageBox.style.display = "none";
      messageBox.textContent = "";
      memoriesNextBtnContainer.style.display = "none";
      memoriesNextBtn.disabled = true;
      memoriesNextBtn.style.opacity = 0.3;
      memoriesNextBtn.setAttribute('aria-disabled', 'true');
      if (memoryMessageTimeout) clearTimeout(memoryMessageTimeout);

      memoriesData.forEach((memory, i) => memory.visited = false);

      memoriesData.forEach((memory, i) => {
        const circle = document.createElement('div');
        circle.className = 'memory-fragment';
        circle.tabIndex = 0;
        circle.setAttribute('role', 'button');
        circle.setAttribute('aria-label', `${memory.title} memory`);
        circle.dataset.index = i;

        circle.addEventListener('click', () => {
          if (memory.visited) return;
          memory.visited = true;
          circle.classList.add('visited');
          // Show message
          messageBox.innerHTML =
            `<span style="font-size:13px;font-weight:bold;color:#ffe764;display:block;margin-bottom:10px;">${memory.title}</span>
            <span style="font-size:12px;color:#fffbe3;font-weight:normal;display:block;">${memory.desc}</span>`;
          messageBox.style.display = "block";
          messageBox.style.opacity = "1";
          if (memoryMessageTimeout) clearTimeout(memoryMessageTimeout);
          memoryMessageTimeout = setTimeout(() => {
            messageBox.style.opacity = "0";
            setTimeout(() => {
              messageBox.style.display = "none";
              messageBox.innerHTML = "";
            }, 600);
          }, 3200);

          // If all visited, enable Next button and show last desc
          if (memoriesData.every(m => m.visited)) {
            memoriesNextBtn.disabled = false;
            memoriesNextBtn.style.opacity = 1;
            memoriesNextBtn.setAttribute('aria-disabled', 'false');
            messageBox.innerHTML = `<span style="font-size:12px;font-weight:bold;color:#ffe764;display:block;margin-bottom:10px;">All memories revisited.</span>`;
            messageBox.style.display = "block";
            messageBox.style.opacity = "1";
            memoriesNextBtnContainer.style.display = "flex";
            if (memoryMessageTimeout) clearTimeout(memoryMessageTimeout);
          }
        });

        // Keyboard accessibility: Enter or Space triggers click
        circle.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            circle.click();
          }
        });

        memoryFragmentsEl.appendChild(circle);
      });

      memoriesNextBtn.onclick = () => {
        showOnly('finalFrame');
      };
    }

    // --- FINAL CHOICE LOGIC ---
    function chooseHer() {
      document.getElementById("chooseHerBtn").style.display = "none";
      document.getElementById("chooseEasyBtn").style.display = "none";
      showAriaMessage();
    }
    function chooseEasy() {
      alert("You chose the easy way out... But this story is about choosing love.");
    }

    // --- ARIA MESSAGE SCENE ---
    const ariaMessage = `You made it.

After everything.
Even after how messy things got before.

I still remember how it all fell apart —
the group, the friendships, everything.

Back then, it hurt.
And we didn’t really talk.

But somehow… you came back into my life.
And when you did,
I saw you in a way I hadn’t before.

That’s when everything changed.
That’s when we started.

And honestly…
Even if it means going through all the hard parts again,
I’d still choose this.
I’d still choose you.

Because being with you —
even on the hardest days —
means more than any easy version of life without you.

Thank you for loving me when I shut down.
When I cry out of nowhere.
When I’m not making sense.

You love me on my worst days just as much as my best —
and that means everything to me.

Some people only want love when it's simple.
But I’d go through the hard stuff all over again,
as long as it leads me to you.

You’re my home now.
My everything.

And just this once…
I hope you choose you, too.

Because I’ll keep choosing you.
Every time.

I cannot wait for us to see each other soon  
and to hug youu.  

Happy Birthday.
Thank you for coming to my life.
Thank you for letting me love you now.`;

    function showAriaMessage() {
      showOnly('ariaFrame');
      const box = document.getElementById('ariaMsg');
      const homeBtn = document.getElementById('ariaHomeBtn');
      box.textContent = "";
      homeBtn.style.display = "none";
      let idx = 0;
      function typeAria() {
        if(idx <= ariaMessage.length){
          box.textContent = ariaMessage.substring(0, idx);
          idx++;
          setTimeout(typeAria, 60);
        } else {
          homeBtn.style.display = "inline-block";
        }
      }
      typeAria();
    }
  </script>
</body>
</html>
