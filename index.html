<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Act 6 - Final Choice</title>
  <style>
    body {
      margin: 0;
      background: #000;
      font-family: 'Press Start 2P', monospace;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      flex-direction: column;
    }

    #gameContainer, #finalChoice, #ariaScene, #emptyScene {
      display: none;
      text-align: center;
    }

    .fragment {
      width: 20px;
      height: 20px;
      background: #fcd34d;
      border-radius: 50%;
      margin: 20px;
      display: inline-block;
      animation: glow 1.5s infinite alternate;
      cursor: pointer;
    }

    @keyframes glow {
      from { box-shadow: 0 0 5px #fcd34d; }
      to { box-shadow: 0 0 20px #fcd34d; }
    }

    .dialogue {
      margin-top: 20px;
      font-size: 12px;
    }

    .choice-button {
      font-family: 'Press Start 2P', monospace;
      background: #fff;
      color: #000;
      border: none;
      padding: 10px 20px;
      margin: 15px;
      cursor: pointer;
    }

    .choice-button:hover {
      background: #fcd34d;
    }

    #ariaScene, #emptyScene {
      font-size: 14px;
      white-space: pre-line;
      line-height: 1.6;
    }

    @font-face {
      font-family: 'Press Start 2P';
      src: url('https://fonts.gstatic.com/s/pressstart2p/v11/e3t4euO8T-267oIAQAu6jDQyKzI.woff2') format('woff2');
    }
  </style>
</head>
<body>

<div id="gameContainer">
  <p>Walk up to each memory.</p>
  <div>
    <div class="fragment" onclick="collectFragment(0)" title="The Break"></div>
    <div class="fragment" onclick="collectFragment(1)" title="The Return"></div>
    <div class="fragment" onclick="collectFragment(2)" title="The Hard Days"></div>
  </div>
  <div id="dialogue" class="dialogue"></div>
</div>

<div id="finalChoice">
  <p>Mewby</p>
  <p>Youâ€™ve seen it all â€”<br>The good, the bad, and everything in between.<br><br>So...<br>What do you choose?</p>
  <button class="choice-button" onclick="chooseEasy()">Choose Easy</button>
  <button class="choice-button" onclick="chooseHer()">Choose Her</button>
</div>

<div id="ariaScene">
  ðŸ’› You made it.<br><br>
  Through the break, the silence, the doubt.<br>
  You found your way back.<br><br>
  And you chose her.<br><br>
  Thank you for loving me the way you do.<br>
  And just this once... I hope you choose yourself too.<br><br>
  â€” Aria
</div>

<div id="emptyScene">
  (You chose what felt easier. And sometimes, thatâ€™s okay too.)<br><br>
  But some stories never get told that way.
</div>

<script>
  const lines = [
    `"We didnâ€™t plan it. It justâ€¦ fell apart."`,
    `"I didnâ€™t expect to see you again â€” but when I did, I saw you differently."`,
    `"It wasnâ€™t easy. But we didnâ€™t give up."`
  ];

  let collected = [false, false, false];

  function collectFragment(index) {
    if (!collected[index]) {
      document.getElementById('dialogue').textContent = lines[index];
      collected[index] = true;
    }

    if (collected.every(Boolean)) {
      setTimeout(() => {
        document.getElementById('gameContainer').style.display = 'none';
        document.getElementById('finalChoice').style.display = 'block';
      }, 1000);
    }
  }

  function chooseEasy() {
    document.getElementById('finalChoice').style.display = 'none';
    document.getElementById('emptyScene').style.display = 'block';
  }

  function chooseHer() {
    document.getElementById('finalChoice').style.display = 'none';
    document.getElementById('ariaScene').style.display = 'block';
  }

  window.onload = () => {
    document.getElementById('gameContainer').style.display = 'block';
  };
</script>

</body>
</html>
