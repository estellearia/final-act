<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Always Choose Her</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    html, body {
      min-height: 100vh;
      min-width: 100vw;
      background: radial-gradient(ellipse at 50% 75%, #353a5c 0%, #141332 70%, #06061a 100%);
      color: #fff8e7;
      font-family: 'Press Start 2P', monospace;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      font-size: 13px;
      text-align: center;
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background-image:
        repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 8px),
        repeating-linear-gradient(90deg, rgba(255,255,255,0.025) 0 1px, transparent 1px 8px);
      min-height: 100vh;
      min-width: 100vw;
      text-align: center;
    }
    .hidden { display: none !important; }
    .memory-title {
      font-size: 16px;
      color: #ffe764;
      text-shadow: 0 0 10px #fffbe3, 0 0 8px #ffe764b5;
      font-family: 'Press Start 2P', monospace;
      font-weight: normal;
      letter-spacing: 0.6px;
      margin-bottom: 8px;
      margin-top: 24px;
      text-align: center;
      user-select: none;
      line-height: 1.25;
    }
    #memoryInstructionLines {
      width: 100%;
      max-width: 360px;
      margin: 0 auto 14px auto;
      display: block;
      text-align: center;
    }
    .memory-instruction-quote {
      color: #ffe764;
      font-size: 0.64em;
      background: rgba(38, 39, 80, 0.44);
      border-radius: 4px;
      padding: 9px 10px 8px 10px;
      border: 1px solid #ffe76455;
      display: inline-block;
      font-style: italic;
      image-rendering: pixelated;
      font-weight: normal;
      letter-spacing: 0.5px;
      line-height: 1.8;
      white-space: pre-line;
      text-align: center;
      margin: 0 auto 0 auto;
      user-select: none;
      box-shadow: 0 0 6px #ffe7641c;
    }
    .pixel-frame {
      background: rgba(20,16,40,0.93);
      border-radius: 16px;
      box-shadow: 0 0 0 3px #ffe76480, 0 0 0 6px #353a5c, 0 0 50px 8px #0a0a1a77, 0 0 0 1.5px #ffe764;
      max-width: 370px;
      width: 100%;
      margin: 0 auto;
      margin-top: 0;
      margin-bottom: 25px;
      image-rendering: pixelated;
      padding: 22px 12px 18px 12px;
      box-sizing: border-box;
      position: relative;
      display: block;
      text-align: center;
    }
    @media (max-width: 500px) {
      .pixel-frame { max-width: 98vw; padding: 7vw 1vw; }
      .memory-title { font-size: 13px; }
      #memoryInstructionLines { max-width: 98vw; }
    }
    .memory-fragment {
      width: 22px;
      height: 22px;
      margin: 5px;
      display: block;
      background: linear-gradient(145deg, #fffbe3 30%, #fcd34d 80%);
      border-radius: 50%;
      animation: glow 1.9s infinite alternate;
      cursor: pointer;
      box-shadow: 0 0 8px #fffbe3, 0 0 18px #ffe764;
      transition: box-shadow 0.15s, background 0.15s, border-color 0.15s;
      outline: 1.5px solid #fffbe3;
      outline-offset: 2px;
      border: 2px solid #ffe764;
      background-clip: padding-box;
    }
    .memory-fragment.visited {
      opacity: 0.22;
      pointer-events: none;
      background: #282840;
      border: 2px solid #ffe764;
    }
    #memoryFragments {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
      max-width: 120px;
      margin: 0 auto;
      text-align: center;
      justify-content: center;
    }
    #memoryMessageBox {
      display: none;
      font-size: 11px;
      color: #ffe764;
      background: rgba(38,39,80,0.28);
      border-radius: 8px;
      border: 1px solid #ffe76444;
      box-shadow: 0 0 7px #ffe76422;
      margin: 20px auto 0 auto;
      padding: 15px 14px 13px 14px;
      max-width: 260px;
      text-align: center;
      line-height: 1.7;
      font-weight: normal;
      letter-spacing: 0.2px;
      opacity: 1;
      transition: opacity 0.3s;
    }
    @keyframes glow {
      from { box-shadow: 0 0 8px #ffe764, 0 0 20px #fffbe3; }
      to { box-shadow: 0 0 16px #ffe764, 0 0 28px #fcd34d; }
    }
  </style>
</head>
<body>
  <div class="pixel-bg-stars" id="pixelBgStars"></div>

  <div class="memory-title" id="memoryTitle">Your memories with Aria</div>
  <div id="memoryInstructionLines">
    <span class="memory-instruction-quote" id="memoryInstructionQuote"></span>
  </div>

  <div class="pixel-frame" id="memoriesFrame">
    <div id="memoryFragments"></div>
    <div id="memoryMessageBox"></div>
  </div>

  <script>
    // Memory instructions (optional, animated typing)
    const memoryInstructionLines = [
      "Click each memory fragment one at a time.",
      "Wait for the memory to finish before choosing the next."
    ];
    let memoryInstructionLine = 0, memoryInstructionChar = 0;
    function typeMemoryInstructionLine() {
      const el = document.getElementById('memoryInstructionQuote');
      if (memoryInstructionLine < memoryInstructionLines.length) {
        if (memoryInstructionChar < memoryInstructionLines[memoryInstructionLine].length) {
          el.textContent += memoryInstructionLines[memoryInstructionLine][memoryInstructionChar++];
          setTimeout(typeMemoryInstructionLine, 33);
        } else {
          if (memoryInstructionLine < memoryInstructionLines.length - 1) {
            el.innerHTML += '<br><br>';
          }
          memoryInstructionLine++;
          memoryInstructionChar = 0;
          setTimeout(typeMemoryInstructionLine, 250);
        }
      }
    }
    // Show instructions on load
    window.addEventListener("DOMContentLoaded", () => {
      document.getElementById('memoryTitle').style.display = "block";
      document.getElementById('memoryInstructionLines').style.display = "block";
      document.getElementById('memoryInstructionQuote').textContent = "";
      memoryInstructionLine = 0; memoryInstructionChar = 0;
      typeMemoryInstructionLine();
      initMemories();
    });

    // MEMORY LANE DATA
    const memoriesData = [
      { title: "First time we talked", desc: "That night when we stayed up late, just talking.", visited: false },
      { title: "Hospital visit", desc: "When I was sick and you stayed by my side.", visited: false },
      { title: "Long distance calls", desc: "Our endless phone calls across the miles.", visited: false },
      { title: "Work stress days", desc: "You encouraged me even on my worst days.", visited: false },
      { title: "Our first video game night", desc: "Laughing and playing like no distance existed.", visited: false },
      { title: "The first 'I love you'", desc: "That shy, unforgettable moment.", visited: false }
    ];

    let memoryMessageTimeout = null;
    function initMemories() {
      const memoryFragmentsEl = document.getElementById('memoryFragments');
      const messageBox = document.getElementById('memoryMessageBox');
      memoryFragmentsEl.innerHTML = '';
      messageBox.style.display = "none";
      messageBox.textContent = "";

      memoriesData.forEach((memory, i) => memory.visited = false);

      memoriesData.forEach((memory, i) => {
        const circle = document.createElement('div');
        circle.className = 'memory-fragment';
        circle.tabIndex = 0;
        circle.setAttribute('role', 'button');
        circle.setAttribute('aria-label', `${memory.title} memory`);
        circle.dataset.index = i;

        circle.addEventListener('click', () => {
          if (memory.visited) return;
          memory.visited = true;
          circle.classList.add('visited');
          // Show message
          messageBox.innerHTML =
            `<span style="font-size:11px;font-weight:bold;color:#ffe764;display:block;margin-bottom:10px;">${memory.title}</span>
            <span style="font-size:11px;color:#fffbe3;font-weight:normal;display:block;">${memory.desc}</span>`;
          messageBox.style.display = "block";
          messageBox.style.opacity = "1";
          // Hide after 3.2s
          if (memoryMessageTimeout) clearTimeout(memoryMessageTimeout);
          memoryMessageTimeout = setTimeout(() => {
            messageBox.style.opacity = "0";
            setTimeout(() => {
              messageBox.style.display = "none";
              messageBox.innerHTML = "";
            }, 600);
          }, 3200);
        });

        circle.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            circle.click();
          }
        });

        memoryFragmentsEl.appendChild(circle);
      });
    }
  </script>
</body>
</html>
